# ============================================================
# MASTER CONFIG V19 - BREZ FILTROV IN NAPAK
# ============================================================

# --- 1. SISTEM ---
env = WAYLAND_DISPLAY,wayland-1
env = XDG_CURRENT_DESKTOP,Hyprland
env = GDK_SCALE,2
env = XCURSOR_THEME,Bibata-Modern-Classic
env = XCURSOR_SIZE,48
env = GTK_THEME,Materia-dark

# --- 2. MONITORJI ---
monitor = HDMI-A-1, 3840x2160@60, 900x0, 1.0
monitor = DP-1, 3200x1800@30, 0x0, 2.0, transform, 3

# --- 3. AUTOSTART (ZAGON) ---
exec-once = /usr/libexec/xdg-desktop-portal-hyprland
exec-once = dbus-run-session mako
exec-once = swww-daemon
exec-once = sleep 1 && swww clear -o DP-1 --color ffffff
exec-once = ~/.config/hypr/change-wallpaper.sh
exec-once = ~/.config/hypr/sortiraj.sh
exec-once = mixer pcm.volume=1.0

# Ključno za avtomatiko in vrstico:
exec-once = hypridle
exec-once = waybar

# --- NOVO: DODATKI ZA UDOBJE ---
# 1. Zgodovina odložišča
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# 2. Avtentikacijski agent (Polkit GNOME)
exec-once = /usr/local/libexec/polkit-gnome-authentication-agent-1

# --- (ODSTRANJENO: NOČNI NAČIN / WLSUNSET) ---

# --- 4. INPUT ---
input {
    kb_layout = si
    follow_mouse = 1
}

# --- 5. SPLOŠNO ---
# (ODSTRANJENO: source = ~/.config/hypr/colors.conf da ne bo rdeče napake)

general {
    gaps_in = 6
    gaps_out = 15
    border_size = 2
    col.active_border = rgba(89b4faff) rgba(cba6f7ff) 45deg
    col.inactive_border = rgba(595959aa)
    layout = dwindle
}

# --- ZEN MODE VARNOST ---
misc {
    background_color = 0xffffffff
    disable_hyprland_logo = true
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
}

# --- 6. DEKORACIJA ---
decoration {
    rounding = 12
    blur {
        enabled = true
        size = 8
        passes = 3
    }
}

# --- 7. E-INK (DASUNG) ---
windowrulev2 = opacity 1.0 override 1.0 override, monitor:DP-1
windowrulev2 = noblur, monitor:DP-1
windowrulev2 = noshadow, monitor:DP-1
windowrulev2 = noanim, monitor:DP-1
windowrulev2 = rounding 0, monitor:DP-1

# --- 8. APLIKACIJE ---
windowrulev2 = workspace 10, class:^(firefox|Firefox)$
windowrulev2 = monitor DP-1, class:^(firefox|Firefox)$
windowrulev2 = workspace 1, class:^(chrome|chromium|Chromium|Google-chrome)$
windowrulev2 = monitor HDMI-A-1, class:^(chrome|chromium|Chromium|Google-chrome)$
windowrulev2 = float, class:^(swappy)$
windowrulev2 = center, class:^(swappy)$
windowrulev2 = float, class:^(wofi)$
windowrulev2 = float, class:^(polkit-gnome-authentication-agent-1)$

# --- 9. ANIMACIJE ---
animations {
    enabled = true
    bezier = smooth, 0.25, 1, 0.5, 1
    animation = windows, 1, 6, smooth, popin 80%
    animation = workspaces, 1, 5, smooth, slide
}

# --- 10. BLIŽNJICE ---
$mainMod = SUPER

bind = $mainMod, Q, exec, ~/.config/hypr/launch-kitty.sh
bind = $mainMod, E, exec, thunar /mnt/media/dokumenti
bind = $mainMod, G, exec, chrome
bind = $mainMod, S, exec, firefox
bind = $mainMod, W, exec, ~/.config/hypr/change-wallpaper.sh
bind = $mainMod, BackSpace, exec, hyprctl reload
bind = $mainMod, C, killactive,
bind = $mainMod, M, exit,
bind = $mainMod, F, fullscreen
bind = $mainMod, R, exec, wofi --show drun
bind = $mainMod, X, exec, wlogout
bind = $mainMod, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy
bind = $mainMod, O, exec, ~/.config/hypr/scripts/zen_mode.sh

# --- SCREENSHOT ---
bind = SHIFT, Print, exec, grim -g "$(slurp)" - | swappy -f -
bind = , Print, exec, grim - | swappy -f -

# --- FOKUS & PREMIKANJE ---
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d
bind = $mainMod, period, focusmonitor, r
bind = $mainMod, comma, focusmonitor, l
bind = $mainMod SHIFT, comma, movewindow, mon:l
bind = $mainMod SHIFT, period, movewindow, mon:r

# --- 11. DELOVNE POVRŠINE ---
workspace = 1, monitor:HDMI-A-1
workspace = 2, monitor:HDMI-A-1
workspace = 3, monitor:HDMI-A-1
workspace = 4, monitor:HDMI-A-1
workspace = 5, monitor:HDMI-A-1
workspace = 10, monitor:DP-1

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 0, workspace, 10
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 0, movetoworkspace, 10
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
